存储系统：
	层次结构：
		寄存器》cache》内存》辅存》外存
	分类：

	性能指标：

	主存：存储体+MAR+MDR
		存储体：电容+MOS管
		存储字：一次性读/写多少数据
		MAR：将地址传给译码器翻译为存储字选通信号
		MDR：读/写选中存储字
		控制电路：MAR/MDR电路稳定后再接通
			片选线：CE/CS	读/写控制线
		译码器驱动：将译码器输出信号放大稳定
	主存寻址：主存一般按字节寻址		字寻址	半字寻址	双字寻址

	SRAM： 用于cache
		 不需要刷新数据，
	DRAM： 用于主存	行列地址线服用
		刷新：
			需要刷新：一般2ms一次
			一次刷新一行
			如何刷新：
				分散刷新	集中刷新	异步刷新
	ROM：非易失：断电后不丢失数据
		MROM：出厂设置好不可修改
		PROM ：可以自己编写一次
		EPROM：可多次重写	可擦除：电擦除	光擦除
		Flash Memory： 单个MOS管		可读写：写前先擦除
		SSD：控制单元+Flash一样的存储单元


	⭐️主存连接CPU
		主存字/位拓展：
			位拓展：数据总线宽度>存储字长
			字拓展：拓展存储字长
	双端口RAM和多模块存储器：多核cpu使用ram	cpu读写比ram快
		ram读取周期比较长连续读取同一ram等待时间较长。
		双端口ram：
			多个cpu同时读写一个ram，需要多条地址线和数据线连接。同时产生读写问题：同时写/同时读写冲突。冲突时暂停一个cpu操作忙碌等待。


		多模块ram：
			高位交叉编址：
				单纯扩容了，对连续存储速度没什么提升。连续访问的还是同一块内存
			地位交叉编址：
				扩容并加快速度。连续读写内存，可以分担到多个cpu

	⭐️cache：把局部内存放到cache中以便快速访问
		局部性原理：空间局部	时间局部

		1 按块缓存
		2 映射方式：
			1 全相联
				主存块可以放到任何位置
				优点：空间充分利用	缺点：找标记cache位置慢
			2 直接相联
				cache块号 = 主存块号%cache块号
				优点：找标记cache位置快	缺点：空间利用不充分
			3 组相联
				将cache分组，主存快号%总组号
				直接相联和组相联的中和
		3 替换算法
			1. 随机算法	 不考虑局部性，cache命中率低
			2. fifo		先进的被换出，但是先进的也可能经常使用
			3. LRU Least Recently Used 	需要给cache添加计数器计算使用次数，命中的归0,其余非空cache加一，淘汰数值大的。
			4. LFU Least Frequently Used	计数器记录cache被访问次数

		4 cache一致性保证：
			cache写策略：
				写命中cache：
					写回法：添加一个脏位标记是否修改过，被替换时写回主存。
					全写发：修改cache时同时修改主存，写主存可通过写缓冲慢慢写
				写不命中cache：
					写分配：先调入cache，再写cache，配合写回法
					非写分配，写的话不调入cache，直接写主存。

		页式存储器：	通过页映射，将逻辑地址映射到物理地址 	解决主存不够的问题
			逻辑地址：页号+页内地址
			通过页表基地址+页号×页行大小找到对应主存块号--》主存块号+页内地址 = 物理地址  ----》cache有没有  ---》主存有没有。
			将页表再抽象一层缓存==》快表（相联存储器KV快速查找）

		虚拟存储器：	抽象辅存到内存的过程
			1. 辅存也分页--》页表添加有效位 和 外存块号 访问位  脏位  	 有效位记录是否辅存已调入内存，没有就通过外存快号调入




指令系统：	操作码+地址码

	操作码拓展：根据操作码位数设计：假设指令分为四段，三地址操作码地址剩余状态给二地址操作码用，二地址剩余状态给单地址用。。。


	指令寻址：
		顺序寻址：	指令顺序存储：pc+1就是挨着的下一地址
		跳跃寻址：	JMP指令：跳跃到下一地址

	数据寻址：	地址码=寻址方式+地址
		立即寻址：操作数直接存在指令中。
		直接寻址：直接拿着地址去内存找;
		间接寻址：操作数存的是中间地址，通过中间地址中的地址再找目标地址，缺点：两次访存	优点：较短地址码可以访问大空间主存;操作数地址改变不需要改指令，改中间地址;
		寄存器寻址：无需访存，去寄存器中找
		寄存器间接寻址：间接地址在寄存器中，优化了间接地址两次访存的问题;
		相对寻址：利用当前指令位置pc+一个相对地址找到操作数;

CPU
	cpu干什么：	程序控制	操作控制	时序控制	数据加工	中断处理

	cpu组成：
		cpu中的寄存器：
			程序计数器PC：PC可以理解为指令指针
			存储地址寄存器MAR：存放内存地址，但是不是必须的，有的计算机把内存地址直接加载到地址总线上;
			存储数据寄存器MDR：暂存数据，也不是必须的;
			指令寄存器：保存当前执行的指令。
